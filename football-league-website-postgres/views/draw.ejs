<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Draw & Results</title>
  <link rel="stylesheet" href="/public/css/styles.css"/>
  <script defer src="/public/js/main.js"></script>
</head>
<body>
  <%- include('partials/header') %>
  <main class="container">
    <h1>Draw & Results</h1>

    <div class="controls">
      <label for="roundJump">Jump to Round:</label>
      <select id="roundJump" data-target="/draw">
        <% for (let r=1; r<=18; r++) { %>
          <option value="<%= r %>" <%= r === selectedRound ? 'selected' : '' %>>Round <%= r %></option>
        <% } %>
      </select>
    </div>

    <% rounds.forEach(r => { %>
      <section id="round-<%= r.round %>" class="round-section">
        <h2>Round <%= r.round %></h2>
        <ul class="fixtures">
          <% r.fixtures.forEach(m => { %>
            <li class="fixture">
              <span class="team-pill" style="<%= teamStyle(m.h1, m.h2) %>"><%= m.home_code %></span>
              <span class="team-name"><%= m.home_name %></span>

              <span class="vs">vs</span>

              <span class="team-pill" style="<%= teamStyle(m.a1, m.a2) %>"><%= m.away_code %></span>
              <span class="team-name"><%= m.away_name %></span>

              <span class="score">
                <% if (m.home_goals !== null && m.away_goals !== null) { %>
                  <strong><%= m.home_goals %> - <%= m.away_goals %></strong>
                <% } else { %>
                  <em>â€”</em>
                <% } %>
              </span>
            </li>
          <% }) %>
        </ul>
      </section>
    <% }) %>
  </main>
</body>
</html>
